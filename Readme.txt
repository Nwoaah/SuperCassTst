Задача решена, с учетом того, что строки во входных данных различны, если есть одинаковые - то в output будут тоже, чтобы решить этот вопрос достаточно раскомментировать одну строку.
Так же добавил возможность склейки в несколько потоков, однако результаты такой склейки сложно тестировать, всвязи с чем тестовый класс работает с singleThread. Использовал testNG.
Идея решения проста: так как всего 4 варианта в строке, то их присутствие/отсутствие можно покрыть 15 вариантами, или в двоичном представлении 4 битами.
В тест/ресурсы лежат входные данные для теста их предполагаемые ответы. Решил все хранить в файлах, так как задача программы все же читать/записывать в файл.